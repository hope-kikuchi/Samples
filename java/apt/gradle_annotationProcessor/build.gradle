subprojects {
    apply plugin: "java"
    sourceCompatibility = 11
    targetCompatibility = 11
    compileJava.options.encoding = "UTF-8"
}

project(":main") {
    dependencies {
        // １つでも annotationProcessor を使っていると、クラスパスからの検索は動作しなくなるもよう
        // 両方共含んでいる場合も、 implementation と annotationProcessor の２つを設定すれば警告なく動く
        implementation project(":combined")
        annotationProcessor project(":combined")
        implementation project(":separated:core")
        annotationProcessor project(":separated:apt")
    }
}

project(":separated:apt") {
    dependencies {
        implementation project(":separated:core")
    }
}
