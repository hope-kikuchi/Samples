# RxJava の基礎知識
- RxJava とは
    - Java でリアクティブプログラミングを行うためのライブラリ
    - 2.0 から Reative Streams の仕様を実装
        - Reactive Stream の API に依存している
    - Java 6 以上をサポート
    - 元は .NET Framework の Reactive Extensions というライブラリだった
    - オープンソース化され、 Netflix が Java に移植した
        - Java 以外にも JavaScript や Swift にも移植されている
    - 特徴
        - オブザーバーパターンを拡張している
            - 完了通知、エラー通知を追加
        - Reactive Streams のルールに従っている限り、スレッド管理のわずらわしさから解放される
        - 同期処理でも非同期処理でも、実装が大きく変わらない
        - 関数型プログラミングの影響を受けている
            - 関数型インターフェースを受け取るメソッド
- リアクティブプログラミングとは
    - プログラミングの考え方の１つ
    - データの通知に対して関連するプログラムが反応（リアクション）するようにプログラミングする
    - データストリーム
        - 全てのデータをまとめて扱うのではなく、次々と変化するデータが順次流れてくる
        - イベントもデータストリームとみなすことができる
            - 文字列入力
                - 入力のたびに入力情報が流れてくる
            - ボタンクリック
                - クリックしたというイベントが流れてくる
    - 必要なデータを自ら取得して処理するのではなく、データを受け取ったら、それに反応して処理をするというスタイル
    - リスナーを利用した実装との違い
        - 意識の違い
        - リアクティブプログラミングは、反応する側が流れてきたデータに対してアクションを取る、という意識
        - リスナーがサブスクライバに対して命令している意識だとリアクティブプログラミングではない
        - 意識の違いは、責任範囲に影響を与える
            - 単純な処理だと実装レベルでは違いがないかもしれない
            - 複雑になってくると、意識の違いによって責任範囲が変わり、実装に差が出てくる
    - 責任範囲
        - データの生産側
            - データを渡すまでが責任範囲
            - 消費者がどう使うかは知らない
            - 消費者の処理を待つ必要もない
                - 生産者と消費者を別スレッドにできる
                - ノンブロッキングと親和性が高い
- リアクティブシステム
    - リアクティブプログラミングで構築したシステム、**ではない**
    - メッセージを送ることで処理を行う
    - スケールアウト・インが自動的に行うことで障害に強くする
    - 常に迅速に応答できる
- Reactive Streams とは
    - データストリームを非同期で扱うための共通の仕組み
    - 言語やライブラリを跨って共通のインターフェースを定義する
    - リアクティブプログラミングが広まるにつれ、様々なライブラリが作られるようになった
    - API が統一されておらず、混沌とした状態になっていた
    - データストリームを非同期で扱うための最小限の API を定めたものとして Reactive Streams が策定された
    - Java 用の API
    - RxJava 2.0 は、この Reactive Streams を実装している
- 実験的な API
    - `@Beta`
    - `@Experimental`
    - 以上のアノテーションがついている API は実験的なものなので、使わないほうがいい

# 02 Reactive Streams について
- Reactive Streams が提供するのはインターフェースのみ
    - 各言語・各ライブラリが実装を提供する
- 生産者(Publisher)と消費者(Subscriber)に分かれる
- Publisher
    - データを生成する
- Subscriber
    - Publisher が生成したデータを購読（受け取って処理）する
- プロトコル
    1. Publisher は通知の準備ができたことを Subscriber に伝える
    2. Subscriber は、受け取るデータ数のリクエストを送る
        - Subscriber がデータ数をリクエストするまで、 Publisher は待機している
    3. Publisher はデータを生成し、 Subscriber に送る
    4. Subscriber はデータを受け取って処理を実行する
    5. 要求された数だけデータを送り終わったら、 Publisher は再び待機状態になる
    6. Subscriber は処理を終えたら、次のデータ数のリクエストを送る
    7. 全てのデータを送信し終えたら、 Publisher は完了を通知する
    8. 完了通知後は、 Publisher は何も通知を行わなくなる
    - エラーが発生した場合はエラーを通知する
- Subscriber がデータ数をリクエストすることで、 Publisher からのデータ数を抑制できる
    - Publisher のデータ生成速度が速い場合に、 Subscriber が溢れないようにするため
- インターフェース
    - `Publisher`
        - データの生産者
    - `Subscriber`
        - データの購読者
    - `Subscription`
        - データ数のリクエスト・購読のキャンセルを行う
        - `Subscriber` の `onSbscribe()` メソッドの引数で受け取る
    - `Processor`
        - Publisher と Subscriber 両方の性質を持つ
- 